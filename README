Percolator, Elude and Qvality software package for protein classification.
October 2010
Lukas KÃ¤ll <lukas.kall@cbr.su.se>

DOWNLOAD, INSTALL AND TEST
The latest releases of Percolator can be found at among the downloads. There 
you may find package for Linux and compiled executables for Win32. Source 
bundles are available to build Percolator from scratch if you are running a
different system or if you do not have superuser privileges. Percolator now 
includes a file type converter called Sqt2pin (install packages named 
percolator_converters_* to install it).


***


INSTALLING PERCOLATOR (from packages or installer)

Linux
Download the appropriate package from the downloads: 
  "DEB" is available for Debian distributions (such as Ubuntu)
  "RPM" for Red Hat (such as CentOS).
For Debian distributions (e.g. Ubuntu)), issue the following command in the 
directory where the package has been downloaded:
  $ sudo dpkg -i percolator[_converters]-v[X]-linux-[ARCH].deb
For Red Hat (e.g. CentOS), issue:
  $ su
  $ rpm -ivh percolator[_converters]-v[X]-linux-[ARCH].rpm

If dependency problems arise, you might have to manually some of the libraries
on your system to match the version required (your package manager might be 
providing an old version); this depends on what installation you are using. The
Debian package has been tested on Ubuntu 10.04 and 10.10. Version 9.10, though,
will require you to manually install:
_libxerces-c3.1.so
Similarly, under CentOS5.5, you'll need:
_libxerces-c3.1.so
_libstdc++.so.6
_libtokyocabinet.so.8
_libsqlite3-devel.so


Windows
Download the window installer, double click and follow the installation 
procedure. Once completed open a DOS prompt and invoke Percolator from the 
directory where it was installed. Although Percolator will work properly on the
new "pin" input format, the Windows installed does not currently contain the 
Sqt2pin converter.


***


BUILDING PERCOLATOR (from the latest snapshot or the repository)

***READ CAREFULLY: you must install the required libraries below!***
The following instructions are for Linux Ubuntu (versions 10.04 and 10.10).
Make, Cmake and a C++ compiler are required; the following libraries are also
needed to build Percolator: libxerces-c-dev, libboost-dev, libsqlite3-dev. 
Sqt2pin, which is build together with Percolator by default, also requires: 
gengetopt, libtokyocabinet-dev, zlib1g-dev.
Download the latest percolator-v[X]-src.tar.gz tar-ball and decompress it; 
we will refer to the generated directory as "/path/to/source". You can now 
install all the library mentioned above with the command:
  $ cd /path/to/source; ./install/get_packages_ubuntu.sh
The script will print a variable that is to replace the "/scrapt/prefix/path" 
string when invoking cmake (see below).
If you do not have sudo permissions, you will have to manually install programs
and libraries. The same goes for older versions of Ubuntu as explained above
in the section "INSTALLING PERCOLATOR" under "Linux".

We will now build percolator in the /tmp, but any directory where the user has 
read/write privileges can be chosen. If you do not wish to install Sqt2pin, 
execute the below steps with -DEXCLUDE_CONVERTERS:
  $ mkdir /tmp/percolatorBuild; cd /tmp/percolatorBuild
  $ cmake -G"Eclipse CDT4 - Unix Makefiles" 
      [-DEXCLUDE_CONVERTERS] [-DCMAKE_BUILD_TYPE="Debug"] 
      -DCMAKE_PREFIX_PATH="/scrapt/prefix/path"
      -DCMAKE_INSTALL_PREFIX="/tmp" /path/to/source
The directory /tmp/percolatorBuild can now be imported into Eclipse as an 
external, debuggable Project. Alternatively, Percolator (and optionally the 
converters) can be installed by issuing the following:
  $ cd /tmp/percolatorBuild
  $ make -j8
  $ make install
Percolator can be automatically tested by issuing:
  $ cd /tmp/percolatorBuild
  $ PATH=$PATH:/tmp/bin; export PATH
  $ make test
In case of unsuccessful execution, please refer to 
the next session, "TESTING PERCOLATOR". Log files are stored in 
/tmp/percolatorBuild/Testing/.

Advanced users (and developers) may clone the project with Git by issuing:
$ git clone git://github.com/percolator/percolator
This will create a directory called "percolator" that is to be used as 
/path/to/source in the instructions above


***


TESTING PERCOLATOR


A series of scripts that execute system tests are shipped with the source code; 
as explained above under "BUILDING PERCOLATOR", those are run automatically 
during the build process. 
In order to be able to properly execute the scripts, the following are require:
_python 2.6 interpreter 
_xmllint. 
Those are not stated among the requirements in "BUILDING PERCOLATOR" since a 
working version of the software can be compiled without them, but they need to
be installed in order for the tests to succeed.
To run tests manually, install Percolator and download the latest source tar-ball 
from the downloads; then issue the following commands:

  $ tar -zxvf percolator[_converters]-v[X]-linux-[ARCH].tar.gz
  $ cd percolator[_converters]-v[X]-linux-[ARCH]
  $ python ./data/tests/System_test_[T]

For any test T in the tests subdirectory (some require Sqt2pin to succeed).

Once you have downloaded and extracted the contents of the Percolator tar-ball
as explained above, you can also run Percolator manually on the data contained
in the data/percolator_test/*.

